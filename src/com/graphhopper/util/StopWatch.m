//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: graphhopper/core/src/main/java/com/graphhopper/util/StopWatch.java
//

#include "J2ObjC_source.h"
#include "com/graphhopper/util/Helper.h"
#include "com/graphhopper/util/StopWatch.h"
#include "java/lang/System.h"

@interface StopWatch () {
 @public
  jlong lastTime_;
  jlong nanoTime_;
  NSString *name_;
}
@end

J2OBJC_FIELD_SETTER(StopWatch, name_, NSString *)

@implementation StopWatch

- (instancetype)initWithNSString:(NSString *)name {
  if (self = [super init]) {
    StopWatch_set_name_(self, @"");
    StopWatch_set_name_(self, name);
  }
  return self;
}

- (instancetype)init {
  if (self = [super init]) {
    StopWatch_set_name_(self, @"");
  }
  return self;
}

- (StopWatch *)setNameWithNSString:(NSString *)name {
  StopWatch_set_name_(self, name);
  return self;
}

- (StopWatch *)start {
  lastTime_ = JavaLangSystem_nanoTime();
  return self;
}

- (StopWatch *)stop {
  if (lastTime_ < 0) return self;
  nanoTime_ += JavaLangSystem_nanoTime() - lastTime_;
  lastTime_ = -1;
  return self;
}

- (jlong)getTime {
  return nanoTime_ / 1000000;
}

- (jlong)getNanos {
  return nanoTime_;
}

- (NSString *)description {
  NSString *str = @"";
  if (!Helper_isEmptyWithNSString_(name_)) {
    str = JreStrcat("$$", str, JreStrcat("$C", name_, ' '));
  }
  return JreStrcat("$$F", str, @"time:", [self getSeconds]);
}

- (jfloat)getSeconds {
  return nanoTime_ / 1e9f;
}

- (void)dealloc {
  RELEASE_(name_);
  [super dealloc];
}

- (void)copyAllFieldsTo:(StopWatch *)other {
  [super copyAllFieldsTo:other];
  other->lastTime_ = lastTime_;
  other->nanoTime_ = nanoTime_;
  StopWatch_set_name_(other, name_);
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "initWithNSString:", "StopWatch", NULL, 0x1, NULL },
    { "init", "StopWatch", NULL, 0x1, NULL },
    { "setNameWithNSString:", "setName", "Lcom.graphhopper.util.StopWatch;", 0x1, NULL },
    { "start", NULL, "Lcom.graphhopper.util.StopWatch;", 0x1, NULL },
    { "stop", NULL, "Lcom.graphhopper.util.StopWatch;", 0x1, NULL },
    { "getTime", NULL, "J", 0x1, NULL },
    { "getNanos", NULL, "J", 0x1, NULL },
    { "description", "toString", "Ljava.lang.String;", 0x1, NULL },
    { "getSeconds", NULL, "F", 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "lastTime_", NULL, 0x2, "J", NULL,  },
    { "nanoTime_", NULL, 0x2, "J", NULL,  },
    { "name_", NULL, 0x2, "Ljava.lang.String;", NULL,  },
  };
  static const J2ObjcClassInfo _StopWatch = { 1, "StopWatch", "com.graphhopper.util", NULL, 0x1, 9, methods, 3, fields, 0, NULL};
  return &_StopWatch;
}

@end

J2OBJC_CLASS_TYPE_LITERAL_SOURCE(StopWatch)
